---
data:
  _extendedDependsOn:
  - icon: ':question:'
    path: src/Math/Rational.hpp
    title: "\u6709\u7406\u6570 $\\mathbb{Q}$"
  - icon: ':question:'
    path: src/Math/binary_gcd.hpp
    title: Binary GCD
  _extendedRequiredBy: []
  _extendedVerifiedWith: []
  _isVerificationFailed: true
  _pathExtension: cpp
  _verificationStatusIcon: ':x:'
  attributes:
    '*NOT_SPECIAL_COMMENTS*': ''
    PROBLEM: https://yukicoder.me/problems/no/1501
    links:
    - https://yukicoder.me/problems/no/1501
  bundledCode: "#line 1 \"test/yukicoder/1501.test.cpp\"\n#define PROBLEM \"https://yukicoder.me/problems/no/1501\"\
    \n#include <iostream>\n#line 2 \"src/Math/Rational.hpp\"\n#include <string>\n\
    #line 2 \"src/Math/binary_gcd.hpp\"\n#include <type_traits>\n#include <algorithm>\n\
    template <class Int> constexpr int bsf(Int a) {\n if constexpr (sizeof(Int) ==\
    \ 16) {\n  uint64_t lo= a & uint64_t(-1);\n  return lo ? __builtin_ctzll(lo) :\
    \ 64 + __builtin_ctzll(a >> 64);\n } else if constexpr (sizeof(Int) == 8) return\
    \ __builtin_ctzll(a);\n else return __builtin_ctz(a);\n}\ntemplate <class Int>\
    \ constexpr Int binary_gcd(Int a, Int b) {\n if (a == 0 || b == 0) return a +\
    \ b;\n int n= bsf(a), m= bsf(b), s= 0;\n for (a>>= n, b>>= m; a != b;) {\n  Int\
    \ d= a - b;\n  bool f= a > b;\n  s= bsf(d), b= f ? b : a, a= (f ? d : -d) >> s;\n\
    \ }\n return a << std::min(n, m);\n}\n#line 4 \"src/Math/Rational.hpp\"\ntemplate\
    \ <class Int, bool reduction= true> struct Rational {\n Int num, den;\n constexpr\
    \ Rational(Int num= 0, Int den= 1): num(num), den(den) {\n  if constexpr (reduction)\
    \ reduce();\n }\n constexpr void reduce() {\n  if (den < 0) num= -num, den= -den;\n\
    \  const Int g= binary_gcd(num > -num ? num : -num, den);\n  num/= g, den/= g;\n\
    \ }\n constexpr Rational operator-() const { return Rational(-num, den); }\n constexpr\
    \ Rational operator+(const Rational &r) const { return Rational(num * r.den +\
    \ den * r.num, den * r.den); }\n constexpr Rational operator-(const Rational &r)\
    \ const { return Rational(num * r.den - den * r.num, den * r.den); }\n constexpr\
    \ Rational operator*(const Rational &r) const { return Rational(num * r.num, den\
    \ * r.den); }\n constexpr Rational operator/(const Rational &r) const { return\
    \ Rational(num * r.den, den * r.num); }\n Rational &operator+=(const Rational\
    \ &r) { return *this= *this + r; }\n Rational &operator-=(const Rational &r) {\
    \ return *this= *this - r; }\n Rational &operator*=(const Rational &r) { return\
    \ *this= *this * r; }\n Rational &operator/=(const Rational &r) { return *this=\
    \ *this / r; }\n constexpr bool operator==(const Rational &r) const {\n  if constexpr\
    \ (reduction) return num == r.num && den == r.den;\n  else return num * r.den\
    \ == den * r.num;\n }\n constexpr bool operator!=(const Rational &r) const {\n\
    \  if constexpr (reduction) return num != r.num || den != r.den;\n  else return\
    \ num * r.den != den * r.num;\n }\n constexpr bool operator<(const Rational &r)\
    \ const { return num * r.den < den * r.num; }\n constexpr bool operator>(const\
    \ Rational &r) const { return num * r.den > den * r.num; }\n constexpr bool operator<=(const\
    \ Rational &r) const { return num * r.den <= den * r.num; }\n constexpr bool operator>=(const\
    \ Rational &r) const { return num * r.den >= den * r.num; }\n constexpr explicit\
    \ operator bool() const { return num != 0; }\n constexpr long double to_fp() const\
    \ { return (long double)num / den; }\n constexpr Int floor() const { return num\
    \ / den - (num < 0 && num % den); }\n std::string to_string() const { return num\
    \ ? std::to_string(num) + \"/\" + std::to_string(den) : \"0\"; }\n friend std::ostream\
    \ &operator<<(std::ostream &os, const Rational &r) { return os << r.to_string();\
    \ }\n};\n#line 4 \"test/yukicoder/1501.test.cpp\"\nusing namespace std;\nsigned\
    \ main() {\n cin.tie(0);\n ios::sync_with_stdio(false);\n using Q= Rational<long\
    \ long>;\n int N, K;\n cin >> N >> K;\n int A[N];\n for (int i= 0; i < N; ++i)\
    \ cin >> A[i];\n if (N == 1) return cout << Q(1) << '\\n', 0;\n Q d= 0, n= 0;\n\
    \ for (int i= 0; i < N - 1; ++i) {\n  d+= Q(1, A[i] * A[i + 1]);\n  if (i == K\
    \ - 2) n= d;\n }\n cout << n / d << '\\n';\n return 0;\n}\n"
  code: "#define PROBLEM \"https://yukicoder.me/problems/no/1501\"\n#include <iostream>\n\
    #include \"src/Math/Rational.hpp\"\nusing namespace std;\nsigned main() {\n cin.tie(0);\n\
    \ ios::sync_with_stdio(false);\n using Q= Rational<long long>;\n int N, K;\n cin\
    \ >> N >> K;\n int A[N];\n for (int i= 0; i < N; ++i) cin >> A[i];\n if (N ==\
    \ 1) return cout << Q(1) << '\\n', 0;\n Q d= 0, n= 0;\n for (int i= 0; i < N -\
    \ 1; ++i) {\n  d+= Q(1, A[i] * A[i + 1]);\n  if (i == K - 2) n= d;\n }\n cout\
    \ << n / d << '\\n';\n return 0;\n}"
  dependsOn:
  - src/Math/Rational.hpp
  - src/Math/binary_gcd.hpp
  isVerificationFile: true
  path: test/yukicoder/1501.test.cpp
  requiredBy: []
  timestamp: '2023-08-06 16:57:02+09:00'
  verificationStatus: TEST_WRONG_ANSWER
  verifiedWith: []
documentation_of: test/yukicoder/1501.test.cpp
layout: document
redirect_from:
- /verify/test/yukicoder/1501.test.cpp
- /verify/test/yukicoder/1501.test.cpp.html
title: test/yukicoder/1501.test.cpp
---
