---
data:
  _extendedDependsOn:
  - icon: ':heavy_check_mark:'
    path: src/DataStructure/BinaryIndexedTree_2D.hpp
    title: "Binary-Indexed-Tree(2\u6B21\u5143)"
  _extendedRequiredBy: []
  _extendedVerifiedWith: []
  _isVerificationFailed: false
  _pathExtension: cpp
  _verificationStatusIcon: ':heavy_check_mark:'
  attributes:
    '*NOT_SPECIAL_COMMENTS*': ''
    PROBLEM: http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2842
    links:
    - http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2842
  bundledCode: "#line 1 \"test/aoj/2842.BIT_2D.test.cpp\"\n#define PROBLEM \"http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2842\"\
    \n#include <iostream>\n#include <vector>\n#include <array>\n#include <algorithm>\n\
    #line 3 \"src/DataStructure/BinaryIndexedTree_2D.hpp\"\ntemplate <typename T>\
    \ struct BinaryIndexedTree_2D {\n const int h, w;\n std::vector<T> dat;\n BinaryIndexedTree_2D(int\
    \ H, int W): h(H + 1), w(W + 1), dat(h * w, T()) {}\n void add(int y, int x, T\
    \ v) {\n  for (int i= y; i < h; i+= i & -i)\n   for (int j= x, I= i * w; j < w;\
    \ j+= j & -j) dat[I + j]+= v;\n }\n T sum(int y, int x) const {  // sum (0,y]\
    \ * (0,x]\n  T ret= 0;\n  for (int i= y; i; i-= i & -i)\n   for (int j= x, I=\
    \ i * w; j; j-= j & -j) ret+= dat[I + j];\n  return ret;\n }\n T sum(int sy, int\
    \ sx, int ty, int tx) const {  // sum (sy,ty] * (sx,tx]\n  return sum(ty, tx)\
    \ - sum(ty, sx) - sum(sy, tx) + sum(sy, sx);\n }\n};\n#line 7 \"test/aoj/2842.BIT_2D.test.cpp\"\
    \nusing namespace std;\nsigned main() {\n cin.tie(0);\n ios::sync_with_stdio(0);\n\
    \ int H, W, T, Q;\n cin >> H >> W >> T >> Q;\n vector<array<int, 6>> query;\n\
    \ while (Q--) {\n  int t, c, h1, w1, h2, w2;\n  cin >> t >> c >> h1 >> w1;\n \
    \ if (c == 2) cin >> h2 >> w2;\n  query.push_back({t, c, h1, w1, h2, w2});\n \
    \ if (c == 0) query.push_back({t + T, -1, h1, w1, h2, w2});\n }\n sort(query.begin(),\
    \ query.end());\n BinaryIndexedTree_2D<long long> bit1(H, W), bit2(H, W);\n for\
    \ (auto [t, c, h1, w1, h2, w2]: query) {\n  if (c == 0) {\n   if (!bit1.sum(h1\
    \ - 1, w1 - 1, h1, w1)) bit1.add(h1, w1, 1);\n  } else if (c == 1) {\n   if (bit2.sum(h1\
    \ - 1, w1 - 1, h1, w1)) bit2.add(h1, w1, -1);\n  } else if (c == 2) {\n   cout\
    \ << bit2.sum(h1 - 1, w1 - 1, h2, w2) << \" \" << bit1.sum(h1 - 1, w1 - 1, h2,\
    \ w2) << '\\n';\n  } else {\n   if (bit1.sum(h1 - 1, w1 - 1, h1, w1)) bit1.add(h1,\
    \ w1, -1);\n   if (!bit2.sum(h1 - 1, w1 - 1, h1, w1)) bit2.add(h1, w1, 1);\n \
    \ }\n }\n}\n"
  code: "#define PROBLEM \"http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2842\"\
    \n#include <iostream>\n#include <vector>\n#include <array>\n#include <algorithm>\n\
    #include \"src/DataStructure/BinaryIndexedTree_2D.hpp\"\nusing namespace std;\n\
    signed main() {\n cin.tie(0);\n ios::sync_with_stdio(0);\n int H, W, T, Q;\n cin\
    \ >> H >> W >> T >> Q;\n vector<array<int, 6>> query;\n while (Q--) {\n  int t,\
    \ c, h1, w1, h2, w2;\n  cin >> t >> c >> h1 >> w1;\n  if (c == 2) cin >> h2 >>\
    \ w2;\n  query.push_back({t, c, h1, w1, h2, w2});\n  if (c == 0) query.push_back({t\
    \ + T, -1, h1, w1, h2, w2});\n }\n sort(query.begin(), query.end());\n BinaryIndexedTree_2D<long\
    \ long> bit1(H, W), bit2(H, W);\n for (auto [t, c, h1, w1, h2, w2]: query) {\n\
    \  if (c == 0) {\n   if (!bit1.sum(h1 - 1, w1 - 1, h1, w1)) bit1.add(h1, w1, 1);\n\
    \  } else if (c == 1) {\n   if (bit2.sum(h1 - 1, w1 - 1, h1, w1)) bit2.add(h1,\
    \ w1, -1);\n  } else if (c == 2) {\n   cout << bit2.sum(h1 - 1, w1 - 1, h2, w2)\
    \ << \" \" << bit1.sum(h1 - 1, w1 - 1, h2, w2) << '\\n';\n  } else {\n   if (bit1.sum(h1\
    \ - 1, w1 - 1, h1, w1)) bit1.add(h1, w1, -1);\n   if (!bit2.sum(h1 - 1, w1 - 1,\
    \ h1, w1)) bit2.add(h1, w1, 1);\n  }\n }\n}\n"
  dependsOn:
  - src/DataStructure/BinaryIndexedTree_2D.hpp
  isVerificationFile: true
  path: test/aoj/2842.BIT_2D.test.cpp
  requiredBy: []
  timestamp: '2023-02-10 14:46:13+09:00'
  verificationStatus: TEST_ACCEPTED
  verifiedWith: []
documentation_of: test/aoj/2842.BIT_2D.test.cpp
layout: document
redirect_from:
- /verify/test/aoj/2842.BIT_2D.test.cpp
- /verify/test/aoj/2842.BIT_2D.test.cpp.html
title: test/aoj/2842.BIT_2D.test.cpp
---
